<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>rolling</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme -->
        
        <link rel="stylesheet" href="railview.css">
        

        

        <!-- Fetch Clipboard.js from CDN but have a local fallback -->
        <script src="https://cdn.jsdelivr.net/clipboard.js/1.6.1/clipboard.min.js"></script>
        <script>
            if (typeof Clipboard == 'undefined') {
                document.write(unescape("%3Cscript src='clipboard.min.js'%3E%3C/script%3E"));
            }
        </script>

        <noscript>
            <style type="text/css">
                .javascript-only {
                    display: none;
                }
            </style>
        </noscript>

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme;
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="rolling.html">Rolling</a></li><li><a href="model.html"><strong aria-hidden="true">1.</strong> Dispatch mode</a></li><li><ol class="section"><li><a href="dgraph.html"><strong aria-hidden="true">1.1.</strong> Infrastructure</a></li><li><a href="routes.html"><strong aria-hidden="true">1.2.</strong> Interlocking</a></li><li><a href="dispatch.html"><strong aria-hidden="true">1.3.</strong> Dispatch</a></li><li><a href="history.html"><strong aria-hidden="true">1.4.</strong> History</a></li><li><a href="simexamples.html"><strong aria-hidden="true">1.5.</strong> Examples</a></li><li><ol class="section"><li><a href="examples/simplestop.html"><strong aria-hidden="true">1.5.1.</strong> Simple stop</a></li><li><a href="examples/single.html"><strong aria-hidden="true">1.5.2.</strong> Single track</a></li><li><a href="examples/twotrack.html"><strong aria-hidden="true">1.5.3.</strong> Two track station</a></li><li><a href="examples/multipletrains.html"><strong aria-hidden="true">1.5.4.</strong> Multiple trains</a></li><li><a href="examples/partialrelease.html"><strong aria-hidden="true">1.5.5.</strong> Partial release</a></li><li><a href="examples/twoway.html"><strong aria-hidden="true">1.5.6.</strong> Two-way traffic</a></li></ol></li></ol></li><li><a href="verification.html"><strong aria-hidden="true">2.</strong> Verification mode</a></li><li><ol class="section"><li><a href="usage.html"><strong aria-hidden="true">2.1.</strong> Usage</a></li><li><a href="plannerexamples.html"><strong aria-hidden="true">2.2.</strong> Verification examples</a></li><li><ol class="section"><li><a href="examples/runningtime.html"><strong aria-hidden="true">2.2.1.</strong> Running time</a></li><li><a href="examples/frequency.html"><strong aria-hidden="true">2.2.2.</strong> Consecutive train frequency</a></li><li><a href="examples/overtaking.html"><strong aria-hidden="true">2.2.3.</strong> Overtaking</a></li><li><a href="examples/crossing.html"><strong aria-hidden="true">2.2.4.</strong> Crossing</a></li></ol></li></ol></li><li><a href="tools.html"><strong aria-hidden="true">3.</strong> Other tools</a></li><li><ol class="section"><li><a href="railmlconv.html"><strong aria-hidden="true">3.1.</strong> Input conversion from railML</a></li><li><ol class="section"><li><a href="examples/railml_trivial.html"><strong aria-hidden="true">3.1.1.</strong> railML trivial example</a></li><li><a href="examples/railml_twotrack.html"><strong aria-hidden="true">3.1.2.</strong> railML two track</a></li></ol></li></ol></li><li><a href="casestudies.html"><strong aria-hidden="true">4.</strong> Case studies</a></li><li><ol class="section"><li><a href="examples/case_valebo.html"><strong aria-hidden="true">4.1.</strong> Valeb√∏</a></li><li><a href="examples/case_kolbotn.html"><strong aria-hidden="true">4.2.</strong> Kolbotn</a></li><li><a href="examples/case_eidsvoll.html"><strong aria-hidden="true">4.3.</strong> Eidsvoll</a></li><li><a href="examples/case_holmlia.html"><strong aria-hidden="true">4.4.</strong> Holmlia</a></li><li><a href="examples/case_asker.html"><strong aria-hidden="true">4.5.</strong> Asker</a></li><li><a href="examples/case_arna.html"><strong aria-hidden="true">4.6.</strong> Arna A20</a></li><li><a href="examples/case_arna_byhand.html"><strong aria-hidden="true">4.7.</strong> Arna A20 by hand</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons javascript-only">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">rolling</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="searchbar-outer" class="searchbar-outer">
                    <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                </div>
                <div id="searchresults-outer" class="searchresults-outer">
                    <div class="searchresults-header" id="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="print.html#rolling" id="rolling"><h1>Rolling</h1></a>
<p><img src="rolling.png" alt="Rolling" /></p>
<p><strong>Rolling</strong> is a <em>fast</em> railway performance analysis tool for use in <strong>construction project verfication</strong>.</p>
<a class="header" href="print.html#features" id="features"><h2>Features</h2></a>
<a class="header" href="print.html#dispatch-mode" id="dispatch-mode"><h3>Dispatch mode</h3></a>
<p><img src="dispatch.png" alt="Dispatch mode" /></p>
<p>The dispatch plan (1) is executed by sending commands to the interlocking controller (2), which communicates movement authority to the trains (3).</p>
<p>Rolling calculates train trajectories with a given dispatch plan using an infrastructure and interlocking controller model with the following features:</p>
<ul>
<li>
<p><strong>Topology and lengths</strong> -- trains travel on a model of the railway network with given distances, guided by switches and other movable track elements.</p>
<p><img src="infrastructuremodel.png" alt="Infrastructure model" /></p>
</li>
<li>
<p><strong>Laws of motion</strong> -- trains move within the limits of given maximum acceleration and braking power. A train driver model is used to plan ahead for braking so that the train respects its given movement authority.</p>
<p><img src="velocityplotannotated.png" alt="Velocity profile" /></p>
</li>
<li>
<p><strong>Allocation of resources</strong> -- a resource-based model of the interlocking ensures that conflicting routes are not communicated to the trains. Requested movement may be queued so that the dispatch happens as soon as resources are available.</p>
<p><img src="queueing.gif" alt="Allocation of resources" /></p>
</li>
<li>
<p><strong>Communication</strong> -- traditional optical signalling and automatic train protection systems impose a communication constraint which may be the cause of lower performance. Rolling's communication model is suitable for optical signalling, point-based and linear traditional train protection systems, and radio-based communications such as ETCS.</p>
<p><img src="communication.png" alt="Communication" /></p>
</li>
</ul>
<a class="header" href="print.html#verification-mode" id="verification-mode"><h3>Verification mode</h3></a>
<p>Check that performance requirements are satisfied. Fully automated planning produces a dispatch plan which satisfies the requirements, or reports that no such plan exists.</p>
<p><img src="altplans.png" alt="Automated planning" /></p>
<ul>
<li>
<p><strong>Specification format</strong> -- specify performance properties at a &quot;high level&quot;, meaning that unneccesary details, such as specific tracks, signals, and routes, are left out. This saves effort and is especially useful when these details are unknown or subject to change, as is the case in construction projects.</p>
</li>
<li>
<p><strong>Smart planning</strong> -- solve complicated maneuvering puzzles automatically.</p>
<p><img src="eidsvoll5plan.gif" alt="Smart planning" /></p>
</li>
<li>
<p><strong>Full automation</strong> -- meaning that as your track and component layout changes during the project, performance specifications can be verified again with no extra effort. Errors which would cause operational problems can be caught immediately.</p>
</li>
</ul>
<a class="header" href="print.html#use-case" id="use-case"><h2>Use case</h2></a>
<p>For construction projects, where the track layout plan is under development, Rolling provides:</p>
<ul>
<li>Detailed analysis of capacity bottlenecks.</li>
<li>Regression testing after project changes.</li>
</ul>
<a class="header" href="print.html#dispatch-mode-simulation" id="dispatch-mode-simulation"><h1>Dispatch mode (simulation)</h1></a>
<a class="header" href="print.html#command-line-interface" id="command-line-interface"><h2>Command-line interface</h2></a>
<pre><code>Rolling -- simple railway simulation

USAGE:
    rolling [FLAGS] [OPTIONS] &lt;infrastructure&gt; &lt;routes&gt; &lt;dispatch&gt;

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information
    -v, --verbose    Verbose mode (-v, -vv)

OPTIONS:
    -f, --format &lt;format&gt;            Output format profile: full | timing
    -g, --graphical &lt;graphical&gt;      Output directed graph for graphical conversion
    -J, --javascript &lt;javascript&gt;    Output JSON history as JavaScript
    -j, --json &lt;json&gt;                Output JSON history file
    -n, --visits &lt;visits&gt;            Output node visit times to file

ARGS:
    &lt;infrastructure&gt;    Static infrastructure file in the Rolling D-Graph format
    &lt;routes&gt;            Route file in the Rolling Route format
    &lt;dispatch&gt;          Dispatch file in the Rolling Dispatch format
</code></pre>
<a class="header" href="print.html#model" id="model"><h2>Model</h2></a>
<p>The input model for <code>rolling</code> consists of three main components:</p>
<ul>
<li>The <strong><a href="./dgraph.html">infrastructure</a> üåç</strong> model contains the tracks, movable elements, and
signalling and interlocking components which are needed to do a
running time analysis of railway dispatching.</li>
<li>The <strong><a href="./routes.html">interlocking</a> üîí</strong> model describes the elementary routes that can
be dispatched.</li>
<li>The <strong><a href="./dispatch.html">dispatch</a> üëã</strong> list contains times of train and route setting.</li>
</ul>
<p><code>rolling</code> uses these components together to calculate a
<strong><a href="./history.html">history üìà</a></strong>
of events, which contains the state of the infrastructure at each point in time, and the dynamics of the trains as they move on the infrastructure.</p>
<p>Each of these are described in more detail in their respective sections.</p>
<a class="header" href="print.html#infrastructure-" id="infrastructure-"><h1>Infrastructure üåç</h1></a>
<p>The <code>rolling</code> infrastructure model uses a double node graph model. To understand the motivation for the double node graph, consider the
railway junction in the figure below.</p>
<p><img src="dgraph1.png" alt="Dgraph 1" /></p>
<p>On the railway network, paths p-q-r and p-q-u exist, in both directions. However, in a conventional undirected graph representation, there would also be a path r-q-u.</p>
<p><img src="dgraph2.png" alt="Dgraph 2" /></p>
<p>When we extend the graph concept to include two sides of each node, there is no longer a path r-q-u.</p>
<p><img src="dgraph3.png" alt="Dgraph 3" /></p>
<p>So, the double node graph is similar to a graph, with the difference that each node has two sides. A train entering a node from an edge connected to one side of the node can only exit the node through edges on the opposide side of the node.</p>
<p>This model allows a sense of <em>local directedness</em> without deciding on a global direction concept such as up/down or outgoing/incoming often used in railway engineering. A global directionality requires considering special cases to handle railway networks where
a train's up/down direction may change without the train reversing its direction, such as the <a href="examples/baloon.md">balloon loop example</a>.</p>
<p>Each side of the node may have a set of <em>objects</em>, which are read by a passing train on the <strong>exit side</strong> of the node, i.e. the opposite side of the node from the edge on which the train entered.</p>
<p><img src="dgraphsides.png" alt="Dgraph sides" /></p>
<a class="header" href="print.html#input-format" id="input-format"><h2>Input format</h2></a>
<p>The DGraph input file format consists of statements separated by whitespace which describe the double nodes, both sides together, and various edge types with corresponding lengths.</p>
<a class="header" href="print.html#nodes-" id="nodes-"><h2>Nodes üî∂</h2></a>
<p>The syntax for describing nodes is as follows:</p>
<pre><code class="language-haskell">node &lt;name&gt;[(&lt;objects&gt;)]-&lt;name&gt;[(&lt;objects&gt;)]
</code></pre>
<p>Examples:</p>
<pre><code class="language-haskell">node n1-n2
node n2-n3(signal s1)
node n3(enter sec1)-n4
</code></pre>
<a class="header" href="print.html#edges-" id="edges-"><h2>Edges ‚Üî</h2></a>
<p>Edges are either <strong>linear</strong>, <strong>switches</strong> or <strong>boundaries</strong>. Each node may only be mentioned in one edge statement. Nodes which are not mentioned in edge statements are assumed to be the end of a track.</p>
<a class="header" href="print.html#linear" id="linear"><h3>Linear</h3></a>
<p>Linear edges simply connect two nodes by a length of track using the syntax <code>linear &lt;node&gt;-&lt;node&gt; &lt;distance&gt;</code>.</p>
<p>Example:</p>
<pre><code class="language-haskell">linear n1-n2 124.5
</code></pre>
<a class="header" href="print.html#switches" id="switches"><h3>Switches</h3></a>
<p>Switches
Currently, only two-way switches are supported.</p>
<p>Example:</p>
<pre><code class="language-haskell">switch sw1 left n1-(n2 200.0, n3 220.0)
</code></pre>
<a class="header" href="print.html#boundaries" id="boundaries"><h3>Boundaries</h3></a>
<p>Boundaries are nodes where a train may enter or leave the model. When entering, the train's front simply appears at the node, while the body of the train is still outside of the model. When leaving, the front of the train visits the boundary node and the train travels on until the back of the train visits the boundary node, after which the train is considered to be finished.</p>
<p>The name of the boundary node is used in dispatch plans and in route files to refer to the location of the model boundary.</p>
<p>The syntax is <code>boundary &lt;node&gt;</code>.</p>
<p>Example:</p>
<pre><code class="language-haskell">boundary n1
</code></pre>
<a class="header" href="print.html#objects" id="objects"><h2>Objects</h2></a>
<p>Each node may contain zero or more objects, which appear within the parentheses after the node name in the <code>node</code> statement.</p>
<p>The possible object types are:</p>
<ul>
<li>
<p><strong>Signal üö¶</strong>: a signal with the given name is located at the current node. Note that this has no actual impact on trains, as only the <code>sight</code> statements can add the signal to the train's communication list. This statement is used for visualization purposes.</p>
<p>Syntax: <code>signal &lt;name&gt;</code></p>
<p>Example: <code>signal sig1</code></p>
</li>
<li>
<p><strong>Enter section ‚¨á</strong>: a train whose front passes the current node will enter a detection section. Note that a train detector (e.g. axle counter) or a track circuit border will typically need to be translated into four <code>enter</code>/<code>exit</code> statements, an <code>enter</code> for the section on each side of the detector, and an <code>exit</code> for each section on the opposite sides. The rationale for this representation is that it is a low-level instruction that the train can simply read and execute, and that is allows for more exotic train detection setups, such as overlapping sections.</p>
<p>Syntax: <code>enter &lt;section-name&gt;</code></p>
<p>Example: <code>enter section1</code></p>
</li>
<li>
<p><strong>Exit section ‚¨Ü</strong>: a train whose back passes the current node will exit a detection section.</p>
<p>Syntax: <code>exit &lt;section-name&gt;</code></p>
<p>Example: <code>exit section1</code></p>
</li>
<li>
<p><strong>Sight üëÅ</strong>: after visiting the current node, trains can <em>see</em> a given signal for a given travel distance. Typically, this node will appear at a given distance before a signal, and the given distance will be the travel distance from the sight object's node to the signal.</p>
<p>Syntax: <code>sight &lt;signal-name&gt; &lt;distance&gt;</code></p>
<p>Example: <code>signal sig1 400.0</code></p>
</li>
</ul>
<p><em>Switches</em> may also be considered to be objects, but appear in their own statements since they also relate nodes (see the <a href="print.html#switches">switches section</a>).</p>
<p>An example of various objecs on a double node statement:</p>
<pre><code class="language-haskell">node n1(enter section1, exit section2)
    -n2(signal sig1, sight sig2 800.0, exit section1, enter section2)
</code></pre>
<a class="header" href="print.html#interlocking-" id="interlocking-"><h1>Interlocking üîí</h1></a>
<p>An <strong>interlocking</strong> is the safety-critical low-level control system in railways, tasked with ensuring that all actions involving signals and movable elements are performed in a safe manner.</p>
<p>The main operating mode of the interlocking is to take requests for <strong>setting a route</strong>, and then moving track elements and giving signals if this route is safe to set.  Routes are the <strong>atomic unit of allocation</strong> from the dispatcher's point of view.
Note that the atomic unit of de-allocation is typically smaller than the route,
a feature of interlockings which is called <em>partial release</em>.</p>
<p>The <em>routes file</em> contains set of whitespace-separated <em>route statements</em>,
each declared by the following syntax:</p>
<pre><code>route &lt;name&gt; {
  entry &lt;signal-name&gt;
  exit &lt;signal-name&gt;
  entrysection &lt;section-name&gt;
  length &lt;number&gt;
  sections [&lt;section-name&gt;, ...]
  switches [&lt;switch-name&gt; &lt;switch-position&gt;, ...]
  contains [&lt;node-name&gt;, ...]
  &lt;release&gt;*
}
</code></pre>
<p>The lines in the above route statement contain the following:</p>
<ul>
<li>
<p>A route has a <em>name</em>, which is the identifier used
from the dispatch plan to request this route for activation.</p>
</li>
<li>
<p>The <em>entry</em> is an identifier for a signal which is used to
signal the movement authority given by this route when it is activated.</p>
</li>
<li>
<p>The <em>exit</em> is an identifier for a signal which is not directly
used for simulation, but which is need for planning for knowing
which routes can extend this route.</p>
</li>
<li>
<p>The <em>entry section</em> is an identifier for a detection section.
When this detection section becomes occupied, the route is considered
to be in use, and the signal stops signalling movement authority to avoid
other trains from using the same route before it has been activated again.</p>
</li>
<li>
<p>The <em>length</em> is a number indicating the driving length of the route path.
This length is used by the planner, and also by the simulator in the
communication of movement authority from the control system to the train,
in case of a signalling system which transfers movement authority lengths
(either on-line, through train protection systems or radio communication, or off-line, by
having the train driver familiarize with lengths though a railway line's handbook).
This length is not adjusted for stopping margins.</p>
</li>
<li>
<p>The <em>section list</em> is a comma-separated list of section which
must be exclusively allocated before the route can be activated.
Sections should be listed in the order of occupancy by a train running the route path.</p>
</li>
<li>
<p>The <em>switch list</em> is a comma-separated list of switches and corresponding
positions (e.g. <code>sw1 left</code>).</p>
</li>
<li>
<p>The <em>contains list</em> is a comma-separated list of node which the route contains.
It is used for planning, to fulfil requirements of visiting specific nodes by
activating routes.</p>
</li>
<li>
<p>Finally, a list of <em>release conditions</em> determine how the resources required by the
route are de-allocated. The syntax is as follows</p>
<pre><code>release {
  length &lt;number&gt;
  trigger &lt;section-name&gt;
  resources [&lt;resource-name&gt;, ...]
}
</code></pre>
<p>The lines in the above release statement contain the following:</p>
<ul>
<li>The <em>length</em> is a number indicating the length of the partial route path.</li>
<li>The <em>trigger</em> is an identifier for a detection section. After this
trigger has turned occupied and then subsequently vacant again, the resources are released.</li>
<li>The <em>release list</em> is a comma-separated list of resources, i.e. sections and switches,
which cease to be allocated after the trigger event has occurred.</li>
</ul>
<p>Note that if no releases are specified, a default release condition is added which
frees the whole length and all resources after the last</p>
</li>
</ul>
<a class="header" href="print.html#entry--exit-routes" id="entry--exit-routes"><h2>Entry / exit routes</h2></a>
<p>Two special cases of route syntax exist for the entry and exit from the model.</p>
<pre><code>modelentry &lt;name&gt; from &lt;boundary-name&gt; {
  exit &lt;signal-name&gt;
  (length, section, switches, contains as in route)
}
</code></pre>
<pre><code>modelexit &lt;name&gt; to &lt;boundary-name&gt; {
  entry &lt;signal-name&gt;
  entrysection &lt;detector-name&gt;
  (length, section, switches, contains as in route)
}
</code></pre>
<a class="header" href="print.html#overlap--safety-zone" id="overlap--safety-zone"><h2>Overlap / safety zone</h2></a>
<p>Many railway administrations require a given length of track after the
exit signal to be vacant or exclusively allocated for a route to be activated.
This track section is called <em>overlap</em> (british) or <em>safety zone</em> (international).
Overlaps require special logic for allowing the extension of a route</p>
<p>Overlaps are currently not supported.</p>
<a class="header" href="print.html#flank-protection" id="flank-protection"><h2>Flank protection</h2></a>
<p>Flank protection can be implemented by adding requirements of exclusive allocation of resources such as detection sections and switches.</p>
<a class="header" href="print.html#dispatch-" id="dispatch-"><h1>Dispatch üëã</h1></a>
<p>The dispatch plan file represents a timeline of the following types of events:</p>
<ul>
<li>Trains entering the infrastructure from a given entry route.</li>
<li>A dispatcher requesting the interlocking to activate train routes.</li>
</ul>
<p>The <code>train</code> and <code>route</code> statements can be seen as launching concurrent processes in the simulation.</p>
<a class="header" href="print.html#statements" id="statements"><h2>Statements</h2></a>
<a class="header" href="print.html#train-" id="train-"><h3>Train üöÜ</h3></a>
<p>A train starting at the current time is described by the following syntax:</p>
<pre><code>train &lt;name&gt; l=&lt;number&gt; a=&lt;number&gt; b=&lt;number&gt; v=&lt;number&gt; &lt;route-name&gt;
</code></pre>
<p>The parameters are:</p>
<ul>
<li><strong>Name</strong> is an identifier for the train.</li>
<li><strong>Length</strong> <code>l=&lt;number&gt;</code> sets the length of the train in meters.</li>
<li><strong>Acceleration</strong> <code>a=&lt;number&gt;</code> sets the maximum acceleration of the train in N/m¬≤.</li>
<li><strong>Braking deceleration</strong> <code>b=&lt;number&gt;</code> sets the maximum deceleration of the train in N/m¬≤.</li>
<li><strong>Maximum velocity</strong> <code>v=&lt;number&gt;</code> sets the maximum velocity of the train in m/s.</li>
<li><strong>Route name</strong> <code>&lt;route-name&gt;</code> names an <a href="./routes.md">entry route</a> which must be activated before the train enters from the entry routes' specified model boundary.</li>
</ul>
<p>The train, seen as a process, executes in three stages:</p>
<ol>
<li><strong>Activation</strong>: the given entry route of the train must be activated. If its resources are occupied, or it is waiting for movable elements to come in to their positions, the train does not yet enter the model and waits for the route activation process of the entry route to finish.</li>
<li><strong>Running</strong>: the train is partially or fully inside the infrastructure model. It runs by:
<ul>
<li>travelling according to its given movement authority</li>
<li>setting the occupied flag on sections it enters</li>
<li>receiving updated movement authority from signal which are in sight</li>
</ul>
</li>
<li><strong>Finished</strong>: when the train has exited through a model boundary, it is removed from the model and considered finished.</li>
</ol>
<a class="header" href="print.html#route-" id="route-"><h3>Route üõ§</h3></a>
<p>A route request dispatches at the current time is represented using the following syntax:</p>
<pre><code>route &lt;route-name&gt;
</code></pre>
<p>This statement starts a route activation process. The process will wait until all resources are available before reserving the resources and starting to move any movable elements. This means that two conflicting routes may be requested, after which the first route's activation will finish, and the second route to be requested will remain waiting until all required resources are available.</p>
<a class="header" href="print.html#wait-" id="wait-"><h3>Wait ‚è±</h3></a>
<p>Passing time is represented by a separate statement:</p>
<pre><code>wait &lt;number&gt;?
</code></pre>
<p>The <code>&lt;number&gt;</code> parameter gives the time to pass in seconds. Note that no time passes after starting processes unless explicitly described by a <code>wait</code> statement.</p>
<p>If there are no further statements in the dispatch plan, the simulation will run until no more processes are scheduled, or all processes are stuck, such as when a train is waiting at a red light, but no more routes will be dispatched.</p>
<p>The <code>wait</code> statement may be given without a time parameter. This will cause the simulation to wait until all route activations are finished (including route activations which are part of a train's activation process). This may be used to ensure that one set of route allocations happen before another. For example, the <em>verification mode</em> produces a plan without wait times, but which has a series of <em>steps</em> which need to happen in the given order. The un-timed <code>wait</code> statement acts as a synchronization barrier for the route activation processes which are currently running.</p>
<a class="header" href="print.html#history-" id="history-"><h1>History üìà</h1></a>
<p>The <strong>history</strong> is the main output from the <code>rolling</code> dispatch mode.</p>
<a class="header" href="print.html#full-history" id="full-history"><h2>Full history</h2></a>
<p>The full history consists of separate histories for the infrastructure, and of each train. The format is:</p>
<ul>
<li>A list of <em>infrastructure / interlocking</em> events:
<ul>
<li><strong>Wait</strong>: time passing</li>
<li><strong>Route</strong>: status of a route, pending/active/released.</li>
<li><strong>Authority</strong>: a signal's given movement authority: None or a length.</li>
<li><strong>Reserved</strong>: the lock status (locked = true/false) for exclusive reservation of an infrastructure resource (switch or detection section)</li>
<li><strong>Occupied</strong>: detection section's occupancy status (occupied = true/false)</li>
<li><strong>Position</strong>: position of movable track element (switch left/right)</li>
</ul>
</li>
<li>A list of for each train containing the history of its dynamics:
<ul>
<li><strong>Wait</strong>: time passing. This form is generally only used when the train is not in the <em>running</em> state, as time deltas when running are given in the <em>Move</em> item.</li>
<li><strong>Node</strong>: front of train arrives at node</li>
<li><strong>Edge</strong>: front of train begins traveling along edge from source node to target node, with a specified distance. The target node may be omitted when the train is exiting the model.</li>
<li><strong>Sight</strong>: the train starts or stops receiving information from an infrastructure object</li>
<li><strong>Move</strong>: a time delta, a driver action (accelerate/brake/coast), a distance delta and the train's updated velocity.</li>
</ul>
</li>
</ul>
<p>An example of contents (the specifics of the formatting are likely to change):</p>
<pre><code># Infrastructure history:
&gt; Route(0, Pending)
&gt; Route(0, Active)
&gt; Route(1, Pending)
&gt; Reserved(2, true)
&gt; Authority(0, Some(1750.0))
&gt; Route(1, Active)
&gt; Wait(1.4142135623730951)
&gt; Wait(8.585786437626904)
&gt; Wait(15.0)
&gt; Wait(0.10000000000000142)
&gt; Wait(4.899999999999999)
&gt; Occupied(2, true)

## Train &quot;t1&quot; TrainParams { length: 200.0, max_acc: 1.0, max_brk: 0.9, max_vel: 10.0 }:
&gt; Node(0)
&gt; Node(1)
&gt; Edge(1, Some(2))
&gt; Move(1.4142135623730951, Accel, DistanceVelocity { dx: 1.0000000000000002, v: 1.4142135623730951 })
&gt; Node(2)
&gt; Sight(0, true)

</code></pre>
<a class="header" href="print.html#simplified-history" id="simplified-history"><h2>Simplified history</h2></a>
<p>The simplified history is a list of trains' arrival times at nodes.
This output format is used for example by the verification mode to
check whether timing constraints are satisfied.</p>
<p>Example:</p>
<pre><code>t1 0 b1
t1 0 n1
t1 1.4142135623730951 n2
t1 1.4142135623730951 n3
t1 30 n4
t1 30 n5
</code></pre>
<a class="header" href="print.html#simulation-examples" id="simulation-examples"><h1>Simulation examples</h1></a>
<a class="header" href="print.html#simplest-examples" id="simplest-examples"><h1>Simplest examples</h1></a>
<a class="header" href="print.html#single" id="single"><h1>Single</h1></a>
<p>This is the simplest example of a working train station in <code>rolling</code>.</p>
<p>The infrastructure is a single signal with detection sections in the front and back.</p>
<pre><code class="language-haskell">boundary b1
node b1-n1(enter a1,sight sig 100.0)
linear n1-n2 100.0
node n2-n3(signal sig, enter a2)
linear n3-n4 100.0
node n4-b2(exit a2)
boundary b2
</code></pre>
<p>There is one entry and one exit train route.</p>
<pre><code class="language-haskell">modelentry ri from b1 {
  exit sig
  length 100.0
  sections [] switches [] contains []
}

modelexit re to b2 {
  entry sig
  entrysection a2
  length 10000.0
  sections []
  switches [] contains []
}
</code></pre>
<p>We dispatch a short train.</p>
<pre><code class="language-haskell">train t1 l=35.0 a=1.0 b=1.0 v=10.0 ri
wait 30.0
route re
</code></pre>
<p>And the results from <code>rolling</code> are:</p>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/simplestop-history.js"></script>
<script src="examples/simplestop-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#single-1" id="single-1"><h1>Single</h1></a>
<p>This is the simplest example of a working train station in <code>rolling</code>.</p>
<p>The infrastructure is a single signal with detection sections in the front and back.</p>
<pre><code class="language-haskell">boundary b1
node b1-n1
linear n1-n2 1.0
node n2-n3(sight s1 249.0)
linear n3-n4 249.0
node n4(exit a1)-n5(signal s1, enter a1)
linear n5-n6 1150.0
node n6-n7(sight s2 600.0)
linear n7-n8 600.0
node n8(exit a2, enter a1)-n9(signal s2, exit a1, enter a2)
linear n9-n10 925.0
node n10-n11(sight s3 75.0)
linear n11-n12 75.0
node n12(enter a2, exit a3)-n13(signal s3, exit a2, enter a3)
linear n13-n14 500.0
node n14(enter a3)-b2(exit a3)
boundary b2
</code></pre>
<p>There is one entry and one exit train route.</p>
<pre><code class="language-haskell">modelentry ri from b1 {
  exit s1 
  length 250.0
  sections [] switches [] contains []
}

modelexit re to b2 {
  entry s3 
  entrysection a3
  length 5000.0
  sections [] switches [] contains []
}

route r1 {
  entry s1 exit s2
  entrysection a1
  length 1750.0
  sections [a1]
  switches []
  contains []
}

route r2 {
  entry s2 exit s3
  entrysection a2
  length 1000.0
  sections [a2] 
  switches []
  contains []
}
</code></pre>
<p>We dispatch a short passenger train.</p>
<pre><code class="language-haskell">train t1 l=200.0 a=1.0 b=0.9 v=10.0 ri
route r1
wait 150.0
route r2
route re
</code></pre>
<p>And the results from <code>rolling</code> are:</p>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/single-history.js"></script>
<script src="examples/single-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#two-track-station" id="two-track-station"><h1>Two track station</h1></a>
<pre><code class="language-haskell">train t1 l=100.0 a=0.5 b=0.5 v=10.0 ri
route rleft
wait 110.0
route releft
</code></pre>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/twotrack-history.js"></script>
<script src="examples/twotrack-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#multiple-trains-on-a-two-track-station" id="multiple-trains-on-a-two-track-station"><h1>Multiple trains on a two-track station</h1></a>
<a class="header" href="print.html#release-of-resources" id="release-of-resources"><h2>Release of resources</h2></a>
<p>In order to have multiple trains using the same routes at different times, resources need to be released
after one train has finished the route. We may use the <code>release</code> statement inside a route to specify
one or more groups of resources which may be release, and which detector triggers the release.</p>
<pre><code class="language-haskell">modelentry ri from b1 {
  exit sa
  length 500.0
  sections [] switches [] contains []
}

modelexit re1 to b2 {
  entry s1x
  entrysection a2
  length 8000.0
  sections [a2]
  switches [] contains []
}

modelexit re2 to b2 {
  entry s2
  entrysection a2
  length 8000.0
  sections [a2]
  switches [] contains []
}

route r1 {
  entry sa exit s1
  entrysection a1
  length 600.0
  sections [a1]
  switches [sw1 left]
  contains []
}

route r1x {
  entry s1 exit s1x
  entrysection a3
  length 200.0
  sections [a3]
  switches []
  contains []
}

route r2 {
  entry sa exit s2
  entrysection a1
  length 800.0
  sections [a1]
  switches [sw1 right]
  contains []
}

</code></pre>
<a class="header" href="print.html#dispatch" id="dispatch"><h2>Dispatch</h2></a>
<pre><code class="language-haskell">train t1 l=100.0 a=0.5 b=0.5 v=10.0 ri
route r1
wait 110.0
route r1x
train t2 l=100.0 a=0.5 b=0.5 v=10.0 ri
route r2
wait 130.0
route re2
route re1
</code></pre>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/multipletrains-history.js"></script>
<script src="examples/multipletrains-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#partial-release" id="partial-release"><h1>Partial release</h1></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/partialrelease-history.js"></script>
<script src="examples/partialrelease-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#crossing" id="crossing"><h1>Crossing</h1></a>
<p>Two-track station with two-way traffic. Shows example of crossing.</p>
<a class="header" href="print.html#dispatch-1" id="dispatch-1"><h3>Dispatch</h3></a>
<pre><code class="language-haskell">train t1 l=175.0 a=0.8 b=0.8 v=25.0 rentrya
route ra2
wait 50.0
train t2 l=175.0 a=0.8 b=0.8 v=25.0 rentryb
route rb1
route rexitb1
route rexita2
</code></pre>
<a class="header" href="print.html#result" id="result"><h3>Result</h3></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/twoway-history.js"></script>
<script src="examples/twoway-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#verification-mode-planner" id="verification-mode-planner"><h1>Verification mode (planner)</h1></a>
<a class="header" href="print.html#command-line-interface-1" id="command-line-interface-1"><h2>Command-line interface</h2></a>
<pre><code>railperfcheck v0.1.0

railperfcheck [OPTIONS] INFRFILE ROUTESFILE USAGEFILE

Common flags:
  -p --planoutput=FILE        Output dispatch of successful plan
  -r --resultjsonoutput=FILE  Output constraint checklist in JSON format
  -? --help                   Display help message
  -V --version                Print version information
     --numeric-version        Print just the version number

</code></pre>
<a class="header" href="print.html#model-1" id="model-1"><h2>Model</h2></a>
<p>The required inputs to the <code>railperfcheck</code> planner are:</p>
<ul>
<li>The <code>INFRFILE</code> argument takes a file name with the same format as
the <a href="./dgraph.html"><strong>infrastructure üåç</strong></a>
model described in the dispatch mode.</li>
<li>The <code>ROUTESFILE</code> argument takes a file name with the same format the
<a href="./routes.html">the <strong>interlocking üîí</strong> </a>
model described in the dispatch mode.</li>
<li>The <code>USAGEFILE</code> argument takes a filename with the
high-level
<a href="./usage.html"><strong>usage üìÜ</strong></a>
specifications.</li>
</ul>
<p>The program uses the routes file to plan movements where trains perform their required visits, and uses the infrastructure and routes together with the <code>rolling</code> simulator mode to check whether these movements satisfy any timing constraints.</p>
<p>The output of the program may be:</p>
<ul>
<li>Unsuccessful: a dispatch which satisfied the requirements could not be found within the bound on number of steps.</li>
<li>Successful:
a <a href="./dispatch.html"><strong>dispatch üëã</strong></a>
file is produced which may be used together with <a href="./model.html"><code>rolling</code></a> to obtain the
<a href="./history.html"><strong>history üìà</strong></a>
of events which <em>proves</em> that the infrastructure can be used according to the the usage specification.</li>
</ul>
<a class="header" href="print.html#usage-" id="usage-"><h1>Usage üìÜ</h1></a>
<p>The <strong>usage</strong> specification contains high-level description of usage and performance
requirements for railway infrastructure.</p>
<a class="header" href="print.html#vehicles" id="vehicles"><h2>Vehicles</h2></a>
<p>Declares vehicle types for use in movements.</p>
<pre><code>vehicle &lt;name&gt; length &lt;number&gt; accel &lt;number&gt; brake &lt;number&gt; maxspeed &lt;number&gt;
</code></pre>
<p>Example:</p>
<pre><code class="language-haskell">vehicle passengertrain length 220.0 accel 1.0 brake 0.9 maxspeed 55.0
</code></pre>
<a class="header" href="print.html#movements" id="movements"><h2>Movements</h2></a>
<p>Declares a <strong>movement</strong>, which means that a train of specified type has to perform the
listed visits in the listed order.</p>
<p>Each visit may optionally have a waiting time, which causes the train to dwell
at the node for a specified amount of time.
The last visit in a movement may have an infinite wait time (<code>inf</code>), meaning
that the train should not move from its position after arriving at the node.
<strong>Wait times are currently not supported.</strong></p>
<pre><code>movement &lt;vehicle-name&gt; {
   visit [#&lt;name&gt;] [&lt;node-name&gt;, &lt;node-name&gt;, ...] [wait &lt;number&gt;]
   visit ...
   ...
}
</code></pre>
<p>Example:</p>
<pre><code class="language-haskell">movement passengertrain {
  visit #start_p1 [inLeft, inRight]
  visit #stop_p1 [sig1] wait 60.0
  visit #end_p1 [outRight]
}
</code></pre>
<a class="header" href="print.html#timing" id="timing"><h2>Timing</h2></a>
<p>A timing statement declares an ordering of named visits, as defined in the movements.
The visits may refer to named visits in two different trains.
The timing statement has an optional time parameter which may be used to set an upper bound
on the time passing from the first to the second visit.</p>
<pre><code>timing &lt;visit-name&gt; &lt;visit-name&gt; [&lt;number&gt;]
</code></pre>
<p>Example</p>
<pre><code class="language-haskell">timing start_p1 start_p2
timing end_p2 end_1
timing start_p1 end_p1 120.0
</code></pre>
<a class="header" href="print.html#verification-examples" id="verification-examples"><h1>Verification examples</h1></a>
<a class="header" href="print.html#running-time-verification" id="running-time-verification"><h1>Running time verification</h1></a>
<p>Using the two track bidirectional station from previous examples, we now turn
to verifying the running time for a single train across the station.</p>
<p>The properties to be verified are summarized in the <code>usage</code> file:</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit #start [b1]
  visit #end [b2]
}

timing start end 150.0

</code></pre>
<p>Running the <code>railperfcheck</code> program on this usage gives success, and outputs
the following dispatch plan:</p>
<pre><code class="language-haskell">route ra2
route rexita2
train t1 l=150.0 a=1.0 b=0.9 v=20.0 rentrya

</code></pre>
<a class="header" href="print.html#witness" id="witness"><h3>Witness</h3></a>
<p>The plan represents a witness for the satisfaction of the properties given in the <code>usage</code> file, and the results can be inspected as usual.</p>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/runningtime-history.js"></script>
<script src="examples/runningtime-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#frequency" id="frequency"><h1>Frequency</h1></a>
<p>An important performance indicator for a railway station is the
frequency with which it can handle consecutive trains.
To verify e.g. that the two-track station can handle
a passenger train every 90 sec, we write the following <code>usage</code> file:</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit #start_p1 [b1]
  visit #end_p1 [b2]
}

movement passengertrain {
  visit #start_p2 [b1]
  visit #end_p2 [b2]
}
movement passengertrain {
  visit #start_p3 [b1]
  visit #end_p3 [b2]
}
movement passengertrain {
  visit #start_p4 [b1]
  visit #end_p4 [b2]
}

timing end_p1 end_p2 50.0
timing end_p2 end_p3 50.0
timing end_p3 end_p4 50.0
</code></pre>
<p>Running the <code>railperfcheck</code> program on this usage gives success, and outputs
the following dispatch plan:</p>
<pre><code class="language-haskell">route ra2
route rexita2
train t4 l=150.0 a=1.0 b=0.9 v=20.0 rentrya
wait
route ra1
route rexita1
train t3 l=150.0 a=1.0 b=0.9 v=20.0 rentrya
wait
route ra1
route rexita1
train t2 l=150.0 a=1.0 b=0.9 v=20.0 rentrya
wait
route ra2
route rexita2
train t1 l=150.0 a=1.0 b=0.9 v=20.0 rentrya

</code></pre>
<a class="header" href="print.html#witness-1" id="witness-1"><h3>Witness</h3></a>
<p>The plan represents a witness for the satisfaction of the properties given in the <code>usage</code> file, and the results can be inspected as usual.</p>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/frequency-history.js"></script>
<script src="examples/frequency-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#overtaking" id="overtaking"><h1>Overtaking</h1></a>
<p>To check that one train is able to overtake another, we require two movements and put timing constraints on their entry and exit which require one train to enter first and the other train to exit first.</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0
vehicle goodstrain length 650.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit #p_in [b1]
  visit #p_out [b2]
}

movement goodstrain {
  visit #g_in [b1]
  visit #g_out [b2]
}

timing p_in g_in
timing g_out p_out
</code></pre>
<p>Note that if we had instead required the long goods train to enter first, the verification would fail, as the goods train would block all paths for the passenger train. The constraints would be as follows:</p>
<pre><code class="language-haskell">timing start_g start_p
timing end_p end_g
</code></pre>
<a class="header" href="print.html#result-1" id="result-1"><h3>Result</h3></a>
<p>When the passenger train goes first, we get the following successful dispatch plan:</p>
<pre><code class="language-haskell">route ra2
train t2 l=150.0 a=1.0 b=0.9 v=20.0 rentrya
wait
route ra1
route rexita1
train t1 l=650.0 a=1.0 b=0.9 v=20.0 rentrya
wait
route rexita2

</code></pre>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/overtaking-history.js"></script>
<script src="examples/overtaking-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#crossing-1" id="crossing-1"><h1>Crossing</h1></a>
<p>Two-track station with two-way traffic. Verify that
trains can cross.</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 40.0
vehicle goodstrain length 850.0 accel 0.5 brake 0.4 maxspeed 20.0

movement passengertrain {
  visit #start_p [b2]
  visit #end_p [b1]
}

movement goodstrain {
  visit #start_g [b1]
  visit #end_g [b2]
}

timing start_p end_g
timing start_g end_p
</code></pre>
<a class="header" href="print.html#dispatch-2" id="dispatch-2"><h3>Dispatch</h3></a>
<pre><code class="language-haskell">route ra1
route rb2
train t1 l=850.0 a=0.5 b=0.4 v=20.0 rentrya
train t2 l=150.0 a=1.0 b=0.9 v=40.0 rentryb
wait
route rexita1
wait
route rexitb2
</code></pre>
<a class="header" href="print.html#result-2" id="result-2"><h3>Result</h3></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/crossing-history.js"></script>
<script src="examples/crossing-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#input-conversion-from-railml" id="input-conversion-from-railml"><h1>Input conversion from railML</h1></a>
<a class="header" href="print.html#input-conversion-from-railml-1" id="input-conversion-from-railml-1"><h1>Input conversion from railML</h1></a>
<a class="header" href="print.html#conversion-from-railml" id="conversion-from-railml"><h1>Conversion from railML</h1></a>
<a class="header" href="print.html#trivial-handwritten-exampletest-file" id="trivial-handwritten-exampletest-file"><h2>Trivial handwritten example/test file</h2></a>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;railml xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.railml.org/schemas/2013&quot;&gt;
  &lt;infrastructure&gt;
    &lt;tracks&gt;
        &lt;track name=&quot;SP1&quot;&gt;
            &lt;trackTopology&gt;
                &lt;trackBegin pos=&quot;0.0&quot;&gt;
                    &lt;openEnd id=&quot;b1&quot; /&gt;
                &lt;/trackBegin&gt;
                &lt;trackEnd pos=&quot;1000.0&quot;&gt;
                    &lt;openEnd id=&quot;b2&quot; /&gt;
                &lt;/trackEnd&gt;
                &lt;connections&gt;
                &lt;/connections&gt;
            &lt;/trackTopology&gt;
            &lt;ocsElements&gt;
                &lt;signals&gt;
                    &lt;signal id=&quot;sig1&quot; name=&quot;Signal 1&quot; pos=&quot;50.0&quot; type=&quot;main&quot;  dir=&quot;up&quot;/&gt;
                    &lt;signal id=&quot;sig2&quot; name=&quot;Signal 2&quot; pos=&quot;250.0&quot; type=&quot;main&quot; dir=&quot;up&quot;/&gt;
                    &lt;signal id=&quot;sig3&quot; name=&quot;Signal 3&quot; pos=&quot;350.0&quot; type=&quot;main&quot; dir=&quot;up&quot;/&gt;
                &lt;/signals&gt;
                &lt;trainDetectionElements&gt;
                    &lt;trainDetector id=&quot;d0&quot; name=&quot;detector 1&quot; pos=&quot;10.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d1&quot; name=&quot;detector 1&quot; pos=&quot;50.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d2&quot; name=&quot;detector 2&quot; pos=&quot;250.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d3&quot; name=&quot;detector 2&quot; pos=&quot;350.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d4&quot; name=&quot;detector 2&quot; pos=&quot;390.0&quot; /&gt;
                &lt;/trainDetectionElements&gt;
            &lt;/ocsElements&gt;
        &lt;/track&gt;
    &lt;/tracks&gt;
  &lt;/infrastructure&gt;
&lt;/railml&gt;
</code></pre>
<a class="header" href="print.html#generated-output" id="generated-output"><h2>Generated output</h2></a>
<a class="header" href="print.html#infrastructure" id="infrastructure"><h3>Infrastructure</h3></a>
<pre><code class="language-haskell">node b1-n0b
node n1a-n1b(sight sig1 50)
node n2a(exit sec0)-n2b(enter sec0)
node n3a-n3b(signal sig1)
node n4a(enter sec0, exit sec1)-n4b(exit sec0, enter sec1)
node n5a-n5b(sight sig2 200)
node n6a-n6b(sight sig3 200)
node n7a-n7b(signal sig2)
node n8a(enter sec1, exit sec2)-n8b(exit sec1, enter sec2)
node n9a-n9b(signal sig3)
node n10a(enter sec2, exit sec3)-n10b(exit sec2, enter sec3)
node n11a(enter sec3)-n11b(exit sec3)
node n12a-b2
boundary b1
linear n0b-n1a 0
linear n1b-n2a 10
linear n2b-n3a 40
linear n3b-n4a 0
linear n4b-n5a 0
linear n5b-n6a 100
linear n6b-n7a 100
linear n7b-n8a 0
linear n8b-n9a 100
linear n9b-n10a 0
linear n10b-n11a 40
linear n11b-n12a 610
boundary b2
</code></pre>
<a class="header" href="print.html#routes" id="routes"><h3>Routes</h3></a>
<pre><code class="language-haskell">modelentry r1 from b1 {
  exit sig1
  length 50
  sections [sec0]
  switches []
  contains []
  release { length 50 trigger sec0 resources [sec0] }
}
route r2 {
  entry sig1
  exit sig2
  entrysection sec1
  length 200
  sections [sec1]
  switches []
  contains []
  release { length 200 trigger sec1 resources [sec1] }
}
route r3 {
  entry sig2
  exit sig3
  entrysection sec2
  length 100
  sections [sec2]
  switches []
  contains []
  release { length 100 trigger sec2 resources [sec2] }
}
modelexit r4 to b2 {
  entry sig3
  entrysection sec3
  length 1650
  sections [sec3]
  switches []
  contains []
}
</code></pre>
<a class="header" href="print.html#view" id="view"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/railml_trivial-history.js"></script>
<script src="examples/railml_trivial-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#conversion-from-railml-1" id="conversion-from-railml-1"><h1>Conversion from railML</h1></a>
<a class="header" href="print.html#handwritten-exampletest-file" id="handwritten-exampletest-file"><h2>Handwritten example/test file</h2></a>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;railml xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.railml.org/schemas/2013&quot;&gt;
  &lt;infrastructure&gt;
    &lt;tracks&gt;
        &lt;track name=&quot;SP1&quot;&gt;
            &lt;trackTopology&gt;
                &lt;trackBegin pos=&quot;0.0&quot;&gt;
                    &lt;openEnd id=&quot;b1&quot; /&gt;
                &lt;/trackBegin&gt;
                &lt;trackEnd pos=&quot;1000.0&quot;&gt;
                    &lt;openEnd id=&quot;b2&quot; /&gt;
                &lt;/trackEnd&gt;
                &lt;connections&gt;
                &lt;/connections&gt;
            &lt;/trackTopology&gt;
            &lt;ocsElements&gt;
                &lt;signals&gt;
                    &lt;signal id=&quot;sig1&quot; name=&quot;Signal 1&quot; pos=&quot;50.0&quot; type=&quot;main&quot;  dir=&quot;up&quot;/&gt;
                    &lt;signal id=&quot;sig2&quot; name=&quot;Signal 2&quot; pos=&quot;250.0&quot; type=&quot;main&quot; dir=&quot;up&quot;/&gt;
                    &lt;signal id=&quot;sig3&quot; name=&quot;Signal 3&quot; pos=&quot;350.0&quot; type=&quot;main&quot; dir=&quot;up&quot;/&gt;
                &lt;/signals&gt;
                &lt;trainDetectionElements&gt;
                    &lt;trainDetector id=&quot;d0&quot; name=&quot;detector 1&quot; pos=&quot;10.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d1&quot; name=&quot;detector 1&quot; pos=&quot;50.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d2&quot; name=&quot;detector 2&quot; pos=&quot;250.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d3&quot; name=&quot;detector 2&quot; pos=&quot;350.0&quot; /&gt;
                    &lt;trainDetector id=&quot;d4&quot; name=&quot;detector 2&quot; pos=&quot;390.0&quot; /&gt;
                &lt;/trainDetectionElements&gt;
            &lt;/ocsElements&gt;
        &lt;/track&gt;
    &lt;/tracks&gt;
  &lt;/infrastructure&gt;
&lt;/railml&gt;
</code></pre>
<a class="header" href="print.html#generated-output-1" id="generated-output-1"><h2>Generated output</h2></a>
<a class="header" href="print.html#infrastructure-1" id="infrastructure-1"><h3>Infrastructure</h3></a>
<pre><code class="language-haskell">node b1-n0b
node n1a-n1b(sight sig1 50)
node n2a(exit sec0)-n2b(enter sec0)
node n3a-n3b(signal sig1)
node n4a(enter sec0, exit sec1)-n4b(exit sec0, enter sec1)
node n5a-n5b(sight sig2 200)
node n6a-n6b(sight sig3 200)
node n7a-n7b(signal sig2)
node n8a(enter sec1, exit sec2)-n8b(exit sec1, enter sec2)
node n9a-n9b(signal sig3)
node n10a(enter sec2, exit sec3)-n10b(exit sec2, enter sec3)
node n11a(enter sec3)-n11b(exit sec3)
node n12a-b2
boundary b1
linear n0b-n1a 0
linear n1b-n2a 10
linear n2b-n3a 40
linear n3b-n4a 0
linear n4b-n5a 0
linear n5b-n6a 100
linear n6b-n7a 100
linear n7b-n8a 0
linear n8b-n9a 100
linear n9b-n10a 0
linear n10b-n11a 40
linear n11b-n12a 610
boundary b2
</code></pre>
<a class="header" href="print.html#routes-1" id="routes-1"><h3>Routes</h3></a>
<pre><code class="language-haskell">modelentry r1 from b1 {
  exit sig1
  length 50
  sections [sec0]
  switches []
  contains []
  release { length 50 trigger sec0 resources [sec0] }
}
route r2 {
  entry sig1
  exit sig2
  entrysection sec1
  length 200
  sections [sec1]
  switches []
  contains []
  release { length 200 trigger sec1 resources [sec1] }
}
route r3 {
  entry sig2
  exit sig3
  entrysection sec2
  length 100
  sections [sec2]
  switches []
  contains []
  release { length 100 trigger sec2 resources [sec2] }
}
modelexit r4 to b2 {
  entry sig3
  entrysection sec3
  length 1650
  sections [sec3]
  switches []
  contains []
}
</code></pre>
<a class="header" href="print.html#view-1" id="view-1"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/railml_twotrack-history.js"></script>
<script src="examples/railml_twotrack-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#case-studies" id="case-studies"><h1>Case studies</h1></a>
<a class="header" href="print.html#valeb√∏" id="valeb√∏"><h1>Valeb√∏</h1></a>
<p>Station converted from Bane NOR's model of the Norweigan national rail network.
This example demonstrates conversion from railML on a simple two track station.
Tracks, switches, signals and detectors are imported from railML, while
routes are derived from signal and detector placement. This may or may not be
equal to the actual routes in use on the station, but suffices for our
demonstrations.</p>
<p><img src="valebo.png" alt="Valeb√∏" title="Valeb√∏" /></p>
<a class="header" href="print.html#view-2" id="view-2"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_valebo-history.js"></script>
<script src="examples/case_valebo-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage" id="usage"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit #start [sb1]
  visit #end [skien]
}

</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell">route r2
route r5
route r6
route r7
train t1 l=150.0 a=1.0 b=0.9 v=20.0 r1
</code></pre>
<a class="header" href="print.html#kolbotn" id="kolbotn"><h1>Kolbotn</h1></a>
<p>Station converted from Bane NOR's model of the Norweigan national rail network.
This example demonstrates conversion from railML
for a double track station with a secondary track in the middle.</p>
<p>Tracks, switches, signals and detectors are imported from railML, while
routes are derived from signal and detector placement. This may or may not be
equal to the actual routes in use on the station, but suffices for our
demonstrations.</p>
<p><img src="kolbotn.png" alt="Kolbotn" title="Kolbotn" /></p>
<a class="header" href="print.html#view-3" id="view-3"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_kolbotn-history.js"></script>
<script src="examples/case_kolbotn-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage-1" id="usage-1"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle short length 110.0 accel 1.0 brake 0.9 maxspeed 20.0
vehicle long length 220.0 accel 1.0 brake 0.9 maxspeed 10.0

movement short {
  visit #ax1 [inR]
  visit #ax2 [outR]
}

movement short {
  visit #bx1 [outL]
  visit #bx2 [inL]
}


movement long {
  visit #ay1 [inR]
  visit #ay2 [outR]
}

movement long {
  visit #by1 [outL]
  visit #by2 [inL]
}

timing bx1 by1
timing by2 bx2
timing ax1 ay1
timing ay2 ax2

</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell">route r11
route r19
train t3 l=110.0 a=1.0 b=0.9 v=20.0 r9
train t4 l=110.0 a=1.0 b=0.9 v=20.0 r17
wait
route r10
route r15
route r30
train t1 l=220.0 a=1.0 b=0.9 v=10.0 r9
train t2 l=220.0 a=1.0 b=0.9 v=10.0 r17
wait
route r18
route r21
route r5
route r12
route r30
wait
route r20
route r21
</code></pre>
<a class="header" href="print.html#eidsvoll" id="eidsvoll"><h1>Eidsvoll</h1></a>
<p>Station converted from Bane NOR's model of the Norweigan national rail network.
This example demonstrates conversion from railML
for a line merge on several single tracks.</p>
<p>Tracks, switches, signals and detectors are imported from railML, while
routes are derived from signal and detector placement. This may or may not be
equal to the actual routes in use on the station, but suffices for our
demonstrations.</p>
<p><img src="eidsvoll.png" alt="Eidsvoll" title="Eidsvoll" /></p>
<a class="header" href="print.html#view-4" id="view-4"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_eidsvoll-history.js"></script>
<script src="examples/case_eidsvoll-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage-2" id="usage-2"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle short length 110.0 accel 1.0 brake 0.9 maxspeed 40.0
vehicle long length 220.0 accel 1.0 brake 0.9 maxspeed 30.0
vehicle goods length 650.0 accel 0.7 brake 0.65 maxspeed 10.0

movement long {
  visit #ax1 [gardermobanen]
  visit #ax2 [dovrebanen]
}

movement long {
  visit #ay1 [gardermobanen]
  visit #ay2 [dovrebanen]
}

movement long {
  visit #bz1 [dovrebanen]
  visit #bz2 [hovedbanen]
}

movement long {
  visit #az1 [dovrebanen]
  visit #az2 [hovedbanen]
}

movement goods {
  visit #cz1 [dovrebanen]
  visit #cz2 [hovedbanen]
}


</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell">route r19
route r9
route r2
train t3 l=220.0 a=1.0 b=0.9 v=30.0 r8
train t4 l=220.0 a=1.0 b=0.9 v=30.0 r1
wait
route r7
route r3
train t5 l=220.0 a=1.0 b=0.9 v=30.0 r1
wait
route r9
train t1 l=650.0 a=0.7 b=0.65 v=10.0 r8
wait
route r10
route r16
route r18
train t2 l=220.0 a=1.0 b=0.9 v=30.0 r8
wait
route r19
route r6
</code></pre>
<a class="header" href="print.html#holmlia" id="holmlia"><h1>Holmlia</h1></a>
<p>Station converted from Bane NOR's model of the Norweigan national rail network.
This example demonstrates conversion from railML for a station with a diamond
crossing. The diamond crossing is not yet supported.</p>
<p><img src="holmlia.png" alt="Holmlia" title="Holmlia" /></p>
<a class="header" href="print.html#view-5" id="view-5"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_holmlia-history.js"></script>
<script src="examples/case_holmlia-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage-3" id="usage-3"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit #start [inR]
  visit #end [outR]
}

</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell">route r11
route r25
route r26
route r27
train t1 l=150.0 a=1.0 b=0.9 v=20.0 r20
</code></pre>
<a class="header" href="print.html#asker" id="asker"><h1>Asker</h1></a>
<p>Station converted from Bane NOR's model of the Norweigan national rail network.
This example demonstrates conversion from railML
for a double junction station, connecting one double track with two double tracks,
with additional station tracks.</p>
<p>Tracks, switches, signals and detectors are imported from railML, while
routes are derived from signal and detector placement. This may or may not be
equal to the actual routes in use on the station, but suffices for our
demonstrations.</p>
<p><img src="asker.png" alt="Asker" title="Asker" /></p>
<a class="header" href="print.html#view-6" id="view-6"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_asker-history.js"></script>
<script src="examples/case_asker-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage-4" id="usage-4"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle short length 110.0 accel 1.0 brake 0.9 maxspeed 20.0
vehicle long length 220.0 accel 1.0 brake 0.9 maxspeed 10.0

movement short {
  visit #ax1 [DBinH]
  visit #ax2 [DBoutH]
}

</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell">route r14
route r7
train t1 l=110.0 a=1.0 b=0.9 v=20.0 r11
</code></pre>
<a class="header" href="print.html#arna" id="arna"><h1>Arna</h1></a>
<p>Station converted from engineering project using <a href="https://www.railcomplete.com/">RailCOMPLETE</a> software.
This example demonstrates conversion from railML
for a single to double track junction with additional station tracks
including a pendulum train cul-de-sac.</p>
<p>Tracks, switches, signals and detectors are imported from railML, while
routes are derived from signal and detector placement. This may or may not be
equal to the actual routes in use on the station, but suffices for our
demonstrations.</p>
<p><img src="arna.png" alt="Arna" title="Arna" /></p>
<a class="header" href="print.html#view-7" id="view-7"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_arna-history.js"></script>
<script src="examples/case_arna-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#usage-5" id="usage-5"><h2>Usage</h2></a>
<p>The view above solves the following usage scenario:</p>
<pre><code class="language-haskell">vehicle short length 110.0 accel 1.0 brake 0.9 maxspeed 20.0
vehicle long length 220.0 accel 1.0 brake 0.9 maxspeed 10.0

movement short {
  visit #ax1 [rbff4z]
  visit #ax2 [bergen2]
}

</code></pre>
<p>... by presenting the following dispatch plan:</p>
<pre><code class="language-haskell"></code></pre>
<a class="header" href="print.html#case-a" id="case-a"><h1>Case A</h1></a>
<p>Station from Norwegian engineering project, preliminary design.</p>
<pre><code class="language-haskell">vehicle passengertrain length 150.0 accel 1.0 brake 0.9 maxspeed 20.0

movement passengertrain {
  visit [b1]
  visit [b2iii]
}
</code></pre>
<a class="header" href="print.html#view-8" id="view-8"><h2>View</h2></a>
<div id="railview"></div>
<script src="d3/d3.js"></script>
<script src="examples/case_arna_byhand-history.js"></script>
<script src="examples/case_arna_byhand-vis.js"></script>
<script src="railview.js"></script>
<a class="header" href="print.html#plan" id="plan"><h2>Plan</h2></a>
<pre><code class="language-haskell">route r01x65
route r65x75
route r75x
train t1 l=150.0 a=1.0 b=0.9 v=20.0 re1
</code></pre>
<a class="header" href="print.html#infrastructure-2" id="infrastructure-2"><h2>Infrastructure</h2></a>
<pre><code class="language-haskell">-- TODO sight
--
-- Leftmost node is free-standing distant signal Fs11001
--
-- S: Entry section
boundary b1
node b1(exit a114a)-ne1b(sight hs11001 1225.0, enter a114a)
linear ne1b-ne2a 1225.0
node ne2a(enter a114a, exit a201)-ne2b(exit a114a, enter a201, signal hs1101)
linear ne2b-ne3a 250.0
node ne3a(enter a201, exit a203, signal hs11004)-ne3b(exit a201, enter a203)
linear ne3b-ne4a 395.0 -- 645 - 250
node ne4a-ne4b

-- SPV 1
-- 719 - 395
switch spv1 left ne4b-(n31a 162.0, n11a 100.0)

-- S: Track 3 (top)
node n31a(enter a205,exit a202)-n31b(exit a205,enter a202)
--linear n31b-n32a 50.0
switch spv22 right n32a-(n31b 50.0, nvx22end 50.0)
node nvx22end-nvx22endstop
node n32a-n32b
linear n32b-n33a 50.0
node n33a(enter a202, exit a204, signal hs11016)-n33b(exit a202, enter a204, sight hs11065 422.0)
linear n33b-n34a 422.0
node n34a(enter a204, exit a206)-n34b(exit a204, enter a206, signal hs11065, sight hs11075 371.0)
-- Ignoring the crossing for now. Joining 206-208-210 into 206
linear n34b-n35a 271.0
node n35a(enter a206, exit a212)-n35b(exit a206, enter a212)
switch spv4 left n36a-(n91b 111.0, n35b 111.0)
node n91a(enter a250, exit a212)-n91b(enter a212, exit a250)
node n36a-n36b
linear n36b-n37a 100.0
-- Skip 214
node n37a(enter a212, exit a216)-n37b(enter a216, exit a212, signal hs11075)
linear n37b-n38a 250.0
node n38a(enter a216, exit a218, signal hs11006)-n38b(exit a216, enter a218)
linear n38b-n39a 250.0
node n39a(enter a218)-n39b(exit a218)
linear n39b-n310a 750.0
node n310a-b2iii
boundary b2iii
-- Exit on upper track to BRG

-- S: Track 1 (mid)
node n11a-n11b
switch spv3 right n11b-(n12a 52.0, n41a 53.0)
node n12a(enter a205, exit a207,signal hs11036)-n13b(enter a207, exit a205)
linear n13b-n14a 396.0
node n14a(enter a207, exit a209)-n14b(enter a209, exit a207, signal hs11005)
switch spv10 left n15a-(n46b 50.0,n14b 50.0)
node n15a-n15b
linear n15b-n16a 50.0
node n16a(enter a209, exit a211)-n16b(enter a211, exit a209)
linear n16b-n17a 50.0
node n17a-n17b
switch spv11 left n17b-(n61a 50.0, n18a 50.0)
node n18a(enter a211, exit a213)-n18b(enter a213, exit a211)
linear n18b-n19a 50.0
node n19a(enter a213, exit a215, signal hs11066)-n19b(enter a215, exit a213)
linear n19b-n110a 844.0
node n110a(exit a217, enter a215)-n110b(enter a217, exit a215, signal hs11015)
--linear n110b-n111a 371.0
switch spv2 right n111a-(n110b 371.0, n2xb 106.0)
node n111a-n111b
linear n111b-n112a 40.0
-- JOIN a219 into a217)
node n112a(enter a217, exit a221, signal hs11056)-n112b(enter a221, exit a217)
linear n112b-n113a 250.0
node n113a(enter a221)-n113b(exit a221)
linear n113b-n114a 750.0
node n114a-b2i
boundary b2i


-- TRACK 2
node n20a-n20b
linear n20b-n21a 253.0
node n21a(enter a240)-n21b(exit a240, enter a244)
linear n21b-n22a 100.0
node n22a(enter a244, exit a248)-n22b(enter a244, exit a248)
node n23a-n23b
switch spv6 left n23a-(n62b 150.0, n22b 50.0)
linear n23b-n24a 50.0
node n24a(enter a248, exit a250)-n24b(exit a248, enter a250)
linear n24b-n25a 50.0
node n25a-n25b
switch spv15 left n25b-(n91a 50.0, n26a 500.0)
node n26a(enter a250, exit a217)-n26b(exit a250, enter a217, signal hs11035)
linear n26b-n2xa 100.0
node n2xa-n2xb

-- S: Track &quot;6&quot; (unnamed) mid
-- join a239 into a241
node n61a(enter a211, exit a241)-n61b(exit a211, enter a241)
linear n61b-n62a 100.0 
node n62a(enter a241, exit a248, signal hs11026)-n62b(enter a248, exit a241)


-- S: Track 4
node n41a(enter a205, exit a231)-n41b(exit a205, enter a231)
linear n41b-n42a 53.0
node n42a-n42b
switch spv5 left n42b-(n43a 53.0, n50a 200.0)
node n50a-n50b -- dead end
node n43a(enter a231, exit a233, signal hs11046)-n43b(exit a231, enter a233)
linear n43b-n44a 281.0
node n44a(enter a233, exit a235)-n44b(exit a233, enter a235, signal hs11045)
-- Join to track 1
switch spv12 right n45a-(n59b 200.0, n44b 50.0)
node n59a-n59b -- dead end
node n45a-n45b
linear n45b-n46a 50.0
node n46a(enter a235, exit a209)-n46b(enter a209, exit a235)
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if (getComputedStyle(document.querySelector(".fa")).fontFamily !== "FontAwesome") {
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = '_FontAwesome/css/font-awesome.css';
                document.head.insertBefore(link, document.head.firstChild)
            }
        </script>

        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                window.print();
            })
        </script>
        

        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS script -->
        

    </body>
</html>
